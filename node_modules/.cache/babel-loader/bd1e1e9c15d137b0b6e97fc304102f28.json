{"ast":null,"code":"var _jsxFileName = \"/Users/johnshelby/Desktop/aaa_coding/songpicker_mern/songpicker/src/components/FullList.js\";\nimport React, { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function FullList(_ref) {\n  let {\n    allSongs,\n    updateAllSongs,\n    display,\n    setDisplay\n  } = _ref;\n\n  // useEffect(()=>{\n  // fetch(`http://localhost:5000/record/`)\n  //   .then(response=>{\n  //     if(!response.ok){\n  //       window.alert(`An error occurred: ${response.statusText}`)\n  //       return []\n  //       }         \n  //       return response.json()\n  //   })\n  //     .then(result => {\n  //       updateAllSongs(result);\n  //     })\n  //       .catch(error => console.error(\"Fetch error:\", error));\n  // },[numSongs])\n  async function deleteSong(i) {\n    await fetch(`http://localhost:5000/${allSongs[i]._id}`, {\n      method: \"DELETE\"\n    });\n    const updatedList = await fetch(`http://localhost:5000/record/`);\n    updateAllSongs(updatedList.json());\n    setDisplay(true);\n  }\n\n  const nl = allSongs.map((n, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n    children: [`${n.name}`, /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"delete\",\n      onClick: () => deleteSong(i),\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 60\n    }, this)]\n  }, i, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 34\n  }, this));\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [display ? /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"listToggle\",\n      onClick: () => setDisplay(false),\n      children: \"Hide List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 14\n    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"listToggle\",\n      onClick: () => setDisplay(true),\n      children: \"See them all\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 95\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"listDiv\",\n      children: display && /*#__PURE__*/_jsxDEV(\"ul\", {\n        id: \"fullList\",\n        children: nl\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 19\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_c = FullList;\n\nvar _c;\n\n$RefreshReg$(_c, \"FullList\");","map":{"version":3,"names":["React","useEffect","FullList","allSongs","updateAllSongs","display","setDisplay","deleteSong","i","fetch","_id","method","updatedList","json","nl","map","n","name"],"sources":["/Users/johnshelby/Desktop/aaa_coding/songpicker_mern/songpicker/src/components/FullList.js"],"sourcesContent":["import React, { useEffect } from 'react';\n\nexport default function FullList({allSongs, updateAllSongs, display, setDisplay}){\n    // useEffect(()=>{\n    // fetch(`http://localhost:5000/record/`)\n    //   .then(response=>{\n    //     if(!response.ok){\n    //       window.alert(`An error occurred: ${response.statusText}`)\n    //       return []\n    //       }         \n    //       return response.json()\n    //   })\n    //     .then(result => {\n    //       updateAllSongs(result);\n    //     })\n    //       .catch(error => console.error(\"Fetch error:\", error));\n    // },[numSongs])\n\n  async function deleteSong(i){\n    await fetch(`http://localhost:5000/${allSongs[i]._id}`,{\n    method:\"DELETE\"\n  })\n    const updatedList = await fetch(`http://localhost:5000/record/`)\n  updateAllSongs(updatedList.json())\n    setDisplay(true)\n  }\n\n  const nl = allSongs.map((n,i)=><li key ={i}>{`${n.name}`}<button className = 'delete' onClick = {()=>deleteSong(i)}>Delete</button></li>)\n  \n  return(\n    <>\n    {display?<button id = 'listToggle' onClick =  {()=>setDisplay(false) }>Hide List</button>:<button id = 'listToggle' onClick={ ()=>setDisplay(true) }>See them all</button>}\n    <div id = 'listDiv'>\n      {display && <ul id=\"fullList\">{nl}</ul>}\n    </div>\n    </>\n  )\n}\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;;AAEA,eAAe,SAASC,QAAT,OAAkE;EAAA,IAAhD;IAACC,QAAD;IAAWC,cAAX;IAA2BC,OAA3B;IAAoCC;EAApC,CAAgD;;EAC7E;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEF,eAAeC,UAAf,CAA0BC,CAA1B,EAA4B;IAC1B,MAAMC,KAAK,CAAE,yBAAwBN,QAAQ,CAACK,CAAD,CAAR,CAAYE,GAAI,EAA1C,EAA4C;MACvDC,MAAM,EAAC;IADgD,CAA5C,CAAX;IAGA,MAAMC,WAAW,GAAG,MAAMH,KAAK,CAAE,+BAAF,CAA/B;IACFL,cAAc,CAACQ,WAAW,CAACC,IAAZ,EAAD,CAAd;IACEP,UAAU,CAAC,IAAD,CAAV;EACD;;EAED,MAAMQ,EAAE,GAAGX,QAAQ,CAACY,GAAT,CAAa,CAACC,CAAD,EAAGR,CAAH,kBAAO;IAAA,WAAe,GAAEQ,CAAC,CAACC,IAAK,EAAxB,eAA0B;MAAQ,SAAS,EAAG,QAApB;MAA6B,OAAO,EAAI,MAAIV,UAAU,CAACC,CAAD,CAAtD;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAA1B;EAAA,GAAUA,CAAV;IAAA;IAAA;IAAA;EAAA,QAApB,CAAX;EAEA,oBACE;IAAA,WACCH,OAAO,gBAAC;MAAQ,EAAE,EAAG,YAAb;MAA0B,OAAO,EAAK,MAAIC,UAAU,CAAC,KAAD,CAApD;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAD,gBAAkF;MAAQ,EAAE,EAAG,YAAb;MAA0B,OAAO,EAAG,MAAIA,UAAU,CAAC,IAAD,CAAlD;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAD1F,eAEA;MAAK,EAAE,EAAG,SAAV;MAAA,UACGD,OAAO,iBAAI;QAAI,EAAE,EAAC,UAAP;QAAA,UAAmBS;MAAnB;QAAA;QAAA;QAAA;MAAA;IADd;MAAA;MAAA;MAAA;IAAA,QAFA;EAAA,gBADF;AAQD;KAnCuBZ,Q"},"metadata":{},"sourceType":"module"}