{"ast":null,"code":"var _jsxFileName = \"/Users/johnshelby/Desktop/aaa_coding/songpicker_mern/songpicker/src/components/FullList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function FullList(_ref) {\n  _s();\n\n  let {\n    allSongs,\n    updateAllSongs,\n    display,\n    setDisplay\n  } = _ref;\n  const [displayValue, setDisplayValue] = useState(false); // function showList(){\n  //     setDisplayValue(true)\n  //   }\n\n  useEffect(() => {\n    fetch(`http://localhost:5000/record/`).then(response => {\n      if (!response.ok) {\n        window.alert(`An error occurred: ${response.statusText}`);\n        return [];\n      }\n\n      return response.json();\n    }).then(result => {\n      console.log(\"inside useEffect\");\n      updateAllSongs(result);\n    }).catch(error => console.error(\"Fetch error:\", error));\n  }, [displayValue]);\n\n  function hideList() {\n    console.log(displayValue);\n    console.log(\"hiding\");\n    setDisplayValue(false);\n    console.log(displayValue);\n    document.getElementById('fullList').style = 'display:none';\n  }\n\n  async function deleteSong(i) {\n    await fetch(`http://localhost:5000/${allSongs[i]._id}`, {\n      method: \"DELETE\"\n    }); // showList()\n\n    setDisplayValue(true);\n  }\n\n  const nl = allSongs.map((n, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n    children: [`${n.name}`, /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"delete\",\n      onClick: () => deleteSong(i),\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 60\n    }, this)]\n  }, i, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 34\n  }, this));\n\n  if (displayValue) {// showList()\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [displayValue ? /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"listToggle\",\n      onClick: hideList,\n      children: \"Hide List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 19\n    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"listToggle\",\n      onClick: () => setDisplayValue(true),\n      children: \"See them all\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 88\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"listDiv\",\n      children: displayValue && /*#__PURE__*/_jsxDEV(\"ul\", {\n        id: \"fullList\",\n        children: nl\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 24\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n\n_s(FullList, \"6LrhVp9J/Cw01bgmgiVeNz9uJ04=\");\n\n_c = FullList;\n\nvar _c;\n\n$RefreshReg$(_c, \"FullList\");","map":{"version":3,"names":["React","useState","useEffect","FullList","allSongs","updateAllSongs","display","setDisplay","displayValue","setDisplayValue","fetch","then","response","ok","window","alert","statusText","json","result","console","log","catch","error","hideList","document","getElementById","style","deleteSong","i","_id","method","nl","map","n","name"],"sources":["/Users/johnshelby/Desktop/aaa_coding/songpicker_mern/songpicker/src/components/FullList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nexport default function FullList({allSongs, updateAllSongs, display, setDisplay}){\n  \n  const [displayValue, setDisplayValue] = useState(false)\n  \n  // function showList(){\n  //     setDisplayValue(true)\n  //   }\n\n\n    useEffect(()=>{\n    fetch(`http://localhost:5000/record/`)\n      .then(response=>{\n        if(!response.ok){\n          window.alert(`An error occurred: ${response.statusText}`)\n          return []\n          }         \n          return response.json()\n      })\n        .then(result => {\n          console.log(\"inside useEffect\");\n          updateAllSongs(result);\n        })\n          .catch(error => console.error(\"Fetch error:\", error));\n    },[displayValue])\n\n\n  function hideList(){\n    console.log(displayValue)\n\n    console.log(\"hiding\")\n    setDisplayValue(false)\n    console.log(displayValue)\n\n    document.getElementById('fullList').style='display:none'\n  }\n\n  async function deleteSong(i){\n    await fetch(`http://localhost:5000/${allSongs[i]._id}`,{\n    method:\"DELETE\"\n  })\n    // showList()\n    setDisplayValue(true)\n  }\n\n  const nl = allSongs.map((n,i)=><li key ={i}>{`${n.name}`}<button className = 'delete' onClick = {()=>deleteSong(i)}>Delete</button></li>)\n  if(displayValue){\n    // showList()\n  }\n  return(\n    <>\n    {displayValue?<button id = 'listToggle' onClick =  { hideList }>Hide List</button>:<button id = 'listToggle' onClick={ ()=>setDisplayValue(true) }>See them all</button>}\n    <div id = 'listDiv'>\n      {displayValue && <ul id=\"fullList\">{nl}</ul>}\n    </div>\n    </>\n  )\n}\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;AAEA,eAAe,SAASC,QAAT,OAAkE;EAAA;;EAAA,IAAhD;IAACC,QAAD;IAAWC,cAAX;IAA2BC,OAA3B;IAAoCC;EAApC,CAAgD;EAE/E,MAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCR,QAAQ,CAAC,KAAD,CAAhD,CAF+E,CAI/E;EACA;EACA;;EAGEC,SAAS,CAAC,MAAI;IACdQ,KAAK,CAAE,+BAAF,CAAL,CACGC,IADH,CACQC,QAAQ,IAAE;MACd,IAAG,CAACA,QAAQ,CAACC,EAAb,EAAgB;QACdC,MAAM,CAACC,KAAP,CAAc,sBAAqBH,QAAQ,CAACI,UAAW,EAAvD;QACA,OAAO,EAAP;MACC;;MACD,OAAOJ,QAAQ,CAACK,IAAT,EAAP;IACH,CAPH,EAQKN,IARL,CAQUO,MAAM,IAAI;MACdC,OAAO,CAACC,GAAR,CAAY,kBAAZ;MACAf,cAAc,CAACa,MAAD,CAAd;IACD,CAXL,EAYOG,KAZP,CAYaC,KAAK,IAAIH,OAAO,CAACG,KAAR,CAAc,cAAd,EAA8BA,KAA9B,CAZtB;EAaC,CAdQ,EAcP,CAACd,YAAD,CAdO,CAAT;;EAiBF,SAASe,QAAT,GAAmB;IACjBJ,OAAO,CAACC,GAAR,CAAYZ,YAAZ;IAEAW,OAAO,CAACC,GAAR,CAAY,QAAZ;IACAX,eAAe,CAAC,KAAD,CAAf;IACAU,OAAO,CAACC,GAAR,CAAYZ,YAAZ;IAEAgB,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAApC,GAA0C,cAA1C;EACD;;EAED,eAAeC,UAAf,CAA0BC,CAA1B,EAA4B;IAC1B,MAAMlB,KAAK,CAAE,yBAAwBN,QAAQ,CAACwB,CAAD,CAAR,CAAYC,GAAI,EAA1C,EAA4C;MACvDC,MAAM,EAAC;IADgD,CAA5C,CAAX,CAD0B,CAI1B;;IACArB,eAAe,CAAC,IAAD,CAAf;EACD;;EAED,MAAMsB,EAAE,GAAG3B,QAAQ,CAAC4B,GAAT,CAAa,CAACC,CAAD,EAAGL,CAAH,kBAAO;IAAA,WAAe,GAAEK,CAAC,CAACC,IAAK,EAAxB,eAA0B;MAAQ,SAAS,EAAG,QAApB;MAA6B,OAAO,EAAI,MAAIP,UAAU,CAACC,CAAD,CAAtD;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAA1B;EAAA,GAAUA,CAAV;IAAA;IAAA;IAAA;EAAA,QAApB,CAAX;;EACA,IAAGpB,YAAH,EAAgB,CACd;EACD;;EACD,oBACE;IAAA,WACCA,YAAY,gBAAC;MAAQ,EAAE,EAAG,YAAb;MAA0B,OAAO,EAAMe,QAAvC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAD,gBAAsE;MAAQ,EAAE,EAAG,YAAb;MAA0B,OAAO,EAAG,MAAId,eAAe,CAAC,IAAD,CAAvD;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADnF,eAEA;MAAK,EAAE,EAAG,SAAV;MAAA,UACGD,YAAY,iBAAI;QAAI,EAAE,EAAC,UAAP;QAAA,UAAmBuB;MAAnB;QAAA;QAAA;QAAA;MAAA;IADnB;MAAA;MAAA;MAAA;IAAA,QAFA;EAAA,gBADF;AAQD;;GAxDuB5B,Q;;KAAAA,Q"},"metadata":{},"sourceType":"module"}