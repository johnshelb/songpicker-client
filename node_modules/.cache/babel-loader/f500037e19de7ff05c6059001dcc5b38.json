{"ast":null,"code":"var _jsxFileName = \"/Users/johnshelby/Desktop/aaa_coding/songpicker_mern/songpicker/src/components/FullList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function FullList(_ref) {\n  _s();\n\n  let {\n    allSongs,\n    updateAllSongs,\n    display,\n    setDisplay\n  } = _ref;\n  const [displayValue, setDisplayValue] = useState(false);\n\n  function showList() {\n    setDisplayValue(true);\n    document.getElementById('fullList').style = 'display:block';\n  }\n\n  useEffect(() => {\n    fetch(`http://localhost:5000/record/`).then(response => response.ok ? response.json() : window.alert(`An error occurred: ${response.statusText}`).then(result => updateAllSongs(result)));\n  }, [displayValue]);\n\n  function hideList() {\n    setDisplayValue(false);\n    document.getElementById('fullList').style = 'display:none';\n  }\n\n  async function deleteSong(i) {\n    await fetch(`http://localhost:5000/${allSongs[i]._id}`, {\n      method: \"DELETE\"\n    });\n    showList();\n  }\n\n  const nl = allSongs.map((n, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n    children: [`${n.name}`, /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"delete\",\n      onClick: () => deleteSong(i),\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 60\n    }, this)]\n  }, i, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 34\n  }, this));\n\n  if (displayValue) {\n    showList();\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [displayValue ? /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"listToggle\",\n      onClick: hideList,\n      children: \"Hide List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 19\n    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"listToggle\",\n      onClick: showList,\n      children: \"See them all\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 88\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"listDiv\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        id: \"fullList\",\n        children: nl\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n\n_s(FullList, \"6LrhVp9J/Cw01bgmgiVeNz9uJ04=\");\n\n_c = FullList;\n\nvar _c;\n\n$RefreshReg$(_c, \"FullList\");","map":{"version":3,"names":["React","useState","useEffect","FullList","allSongs","updateAllSongs","display","setDisplay","displayValue","setDisplayValue","showList","document","getElementById","style","fetch","then","response","ok","json","window","alert","statusText","result","hideList","deleteSong","i","_id","method","nl","map","n","name"],"sources":["/Users/johnshelby/Desktop/aaa_coding/songpicker_mern/songpicker/src/components/FullList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nexport default function FullList({allSongs, updateAllSongs, display, setDisplay}){\n  const [displayValue, setDisplayValue] = useState(false)\n  function showList(){\n      setDisplayValue(true)\n      document.getElementById('fullList').style='display:block'\n    }\n    useEffect(()=>{\n    fetch(`http://localhost:5000/record/`)\n      .then(response=>response.ok?response.json():window.alert(`An error occurred: ${response.statusText}`)\n      .then(result => updateAllSongs(result))\n    )},[displayValue])\n  function hideList(){\n    setDisplayValue(false)\n    document.getElementById('fullList').style='display:none'\n  }\n  async function deleteSong(i){\n    await fetch(`http://localhost:5000/${allSongs[i]._id}`,{\n    method:\"DELETE\"\n  })\n    showList()\n  }\n\n  const nl = allSongs.map((n,i)=><li key ={i}>{`${n.name}`}<button className = 'delete' onClick = {()=>deleteSong(i)}>Delete</button></li>)\n  if(displayValue){\n    showList()\n  }\n  return(\n    <>\n    {displayValue?<button id = 'listToggle' onClick =  { hideList }>Hide List</button>:<button id = 'listToggle' onClick={ showList }>See them all</button>}\n    <div id = 'listDiv'>\n      <ul id=\"fullList\">{nl}</ul>\n    </div>\n    </>\n  )\n}\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;AAEA,eAAe,SAASC,QAAT,OAAkE;EAAA;;EAAA,IAAhD;IAACC,QAAD;IAAWC,cAAX;IAA2BC,OAA3B;IAAoCC;EAApC,CAAgD;EAC/E,MAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCR,QAAQ,CAAC,KAAD,CAAhD;;EACA,SAASS,QAAT,GAAmB;IACfD,eAAe,CAAC,IAAD,CAAf;IACAE,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAApC,GAA0C,eAA1C;EACD;;EACDX,SAAS,CAAC,MAAI;IACdY,KAAK,CAAE,+BAAF,CAAL,CACGC,IADH,CACQC,QAAQ,IAAEA,QAAQ,CAACC,EAAT,GAAYD,QAAQ,CAACE,IAAT,EAAZ,GAA4BC,MAAM,CAACC,KAAP,CAAc,sBAAqBJ,QAAQ,CAACK,UAAW,EAAvD,EAC3CN,IAD2C,CACtCO,MAAM,IAAIjB,cAAc,CAACiB,MAAD,CADc,CAD9C;EAGE,CAJO,EAIN,CAACd,YAAD,CAJM,CAAT;;EAKF,SAASe,QAAT,GAAmB;IACjBd,eAAe,CAAC,KAAD,CAAf;IACAE,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAApC,GAA0C,cAA1C;EACD;;EACD,eAAeW,UAAf,CAA0BC,CAA1B,EAA4B;IAC1B,MAAMX,KAAK,CAAE,yBAAwBV,QAAQ,CAACqB,CAAD,CAAR,CAAYC,GAAI,EAA1C,EAA4C;MACvDC,MAAM,EAAC;IADgD,CAA5C,CAAX;IAGAjB,QAAQ;EACT;;EAED,MAAMkB,EAAE,GAAGxB,QAAQ,CAACyB,GAAT,CAAa,CAACC,CAAD,EAAGL,CAAH,kBAAO;IAAA,WAAe,GAAEK,CAAC,CAACC,IAAK,EAAxB,eAA0B;MAAQ,SAAS,EAAG,QAApB;MAA6B,OAAO,EAAI,MAAIP,UAAU,CAACC,CAAD,CAAtD;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAA1B;EAAA,GAAUA,CAAV;IAAA;IAAA;IAAA;EAAA,QAApB,CAAX;;EACA,IAAGjB,YAAH,EAAgB;IACdE,QAAQ;EACT;;EACD,oBACE;IAAA,WACCF,YAAY,gBAAC;MAAQ,EAAE,EAAG,YAAb;MAA0B,OAAO,EAAMe,QAAvC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAD,gBAAsE;MAAQ,EAAE,EAAG,YAAb;MAA0B,OAAO,EAAGb,QAApC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADnF,eAEA;MAAK,EAAE,EAAG,SAAV;MAAA,uBACE;QAAI,EAAE,EAAC,UAAP;QAAA,UAAmBkB;MAAnB;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QAFA;EAAA,gBADF;AAQD;;GAlCuBzB,Q;;KAAAA,Q"},"metadata":{},"sourceType":"module"}