{"ast":null,"code":"var _jsxFileName = \"/Users/johnshelby/Desktop/aaa_coding/songpicker_mern/songpicker/src/components/FullList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function FullList(_ref) {\n  _s();\n\n  let {\n    allSongs,\n    updateAllSongs,\n    display,\n    setDisplay,\n    numSongs,\n    setNumSongs,\n    instrument\n  } = _ref;\n  useEffect(() => {\n    fetch(`http://localhost:5000/record/`).then(response => {\n      if (!response.ok) {\n        window.alert(`An error occurred: ${response.statusText}`);\n        return [];\n      }\n\n      return response.json();\n    }).then(result => {\n      updateAllSongs(result);\n    }).catch(error => console.error(\"Fetch error:\", error));\n  }, [numSongs]);\n\n  async function deleteSong(i) {\n    await fetch(`http://localhost:5000/${instrumentSongs[i]._id}`, {\n      method: \"DELETE\"\n    });\n    setNumSongs(prev => prev - 1);\n    setDisplay(true);\n  }\n\n  const instrumentSongs = allSongs.filter(song => song.instrument === instrument); //   const sortedEntries = Object.entries(instrumentSongs).sort(([, valueA], [, valueB]) => {\n  //     return valueA.localeCompare(valueB);\n  //   }); \n  //  const sortedObject = Object.fromEntries(sortedEntries);\n  // console.log(sortedObject);\n\n  const sorted = instrumentSongs.sort((a, b) => {\n    // const titleA = a.name.trim();\n    // const titleB = b.name.trim();\n    // return titleA < titleB ? -1 : titleA > titleB ? 1 : 0;\n    return !a.title ? 1 : !b.title ? -1 : a.title.localeCompare(b.title);\n  });\n  console.log(sorted);\n  const nl = instrumentSongs.map((n, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n    children: [`${n.name}`, /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"delete\",\n      onClick: () => deleteSong(i),\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 3\n    }, this)]\n  }, i, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 39\n  }, this));\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"listDiv\",\n      style: {\n        marginTop: '2em'\n      },\n      children: [display ? /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"listToggle\",\n        onClick: () => {\n          console.log(\"setting to false\");\n          setDisplay(false);\n        },\n        children: \"Hide List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 18\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"listToggle\",\n        onClick: () => {\n          console.log(\"setting to true\");\n          setDisplay(true);\n        },\n        children: \"See them all\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 134\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), display && /*#__PURE__*/_jsxDEV(\"ul\", {\n        id: \"fullList\",\n        children: nl\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(FullList, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = FullList;\n\nvar _c;\n\n$RefreshReg$(_c, \"FullList\");","map":{"version":3,"names":["React","useEffect","FullList","allSongs","updateAllSongs","display","setDisplay","numSongs","setNumSongs","instrument","fetch","then","response","ok","window","alert","statusText","json","result","catch","error","console","deleteSong","i","instrumentSongs","_id","method","prev","filter","song","sorted","sort","a","b","title","localeCompare","log","nl","map","n","name","marginTop"],"sources":["/Users/johnshelby/Desktop/aaa_coding/songpicker_mern/songpicker/src/components/FullList.js"],"sourcesContent":["import React, { useEffect } from 'react';\n\nexport default function FullList({allSongs, updateAllSongs, display, setDisplay, numSongs, setNumSongs, instrument}){\n    useEffect(()=>{\n    fetch(`http://localhost:5000/record/`)\n      .then(response=>{\n        if(!response.ok){\n          window.alert(`An error occurred: ${response.statusText}`)\n          return []\n          }         \n          return response.json()\n      })\n        .then(result => {\n          updateAllSongs(result);\n        })\n          .catch(error => console.error(\"Fetch error:\", error));\n    },[numSongs])\n\n  async function deleteSong(i){\n    await fetch(`http://localhost:5000/${instrumentSongs[i]._id}`,{\n    method:\"DELETE\"\n  })\n    setNumSongs(prev=>prev - 1) \n    setDisplay(true)\n  }\n  \n  const instrumentSongs = allSongs.filter(song=>song.instrument === instrument)\n\n  //   const sortedEntries = Object.entries(instrumentSongs).sort(([, valueA], [, valueB]) => {\n  //     return valueA.localeCompare(valueB);\n  //   }); \n  //  const sortedObject = Object.fromEntries(sortedEntries);\n  // console.log(sortedObject);\nconst sorted = instrumentSongs.sort((a,b)=>{\n  // const titleA = a.name.trim();\n  // const titleB = b.name.trim();\n  // return titleA < titleB ? -1 : titleA > titleB ? 1 : 0;\n  Â return !a.title ? 1 : !b.title ? -1 : (a.title).localeCompare(b.title);\n\n})\nconsole.log(sorted)\n\n\nconst nl = instrumentSongs.map((n,i)=><li key ={i}>{`${n.name}`}\n  <button className = 'delete' onClick = {()=>deleteSong(i)}>Delete</button></li>)\n  \n  return(\n    <>\n      <div id = 'listDiv' style= {{marginTop:'2em'}} >\n        {display?<button id = 'listToggle' onClick =  {()=>{ console.log(\"setting to false\");setDisplay(false)} }>Hide List</button>:<button id = 'listToggle' onClick={ ()=>{ console.log(\"setting to true\");setDisplay(true)} }>See them all</button>}\n        <br/>\n        {display && <ul id=\"fullList\">{nl}</ul>}\n      </div>\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}